import requests
import json

API_KEY = "6d8f12d9628ccac80921d9a99228498f"

movie_ids = [
    1249289, 13, 372754, 1284120, 28, 661539, 696374, 1151031, 18491, 2108, 1151039, 1337411, 73, 426063, 
    1136721, 1480799, 101, 104, 1359977, 105, 770156, 950387, 120, 121, 122, 950396, 128, 129, 897160, 872585, 
    10376, 4232, 1310861, 155, 92321, 164, 1276073, 170, 1233069, 1171634, 696506, 12477, 194, 970947, 14537, 
    12493, 207, 1128655, 774370, 238, 240, 4348, 10494, 1059073, 1356039, 1124620, 1011985, 274, 1192209, 278, 
    279, 1098006, 1224993, 1151272, 467244, 311, 1278263, 1100099, 168259, 1380682, 335, 1272149, 346, 1241436, 
    977262, 389, 8587, 977294, 1139087, 1087891, 635302, 423, 424, 1313194, 429, 1212855, 504253, 1356236, 55779, 
    1092073, 497, 1049082, 1020414, 510, 1233413, 299534, 1303055, 299536, 1077782, 715287, 539, 1137179, 1045021, 
    1471014, 550, 567, 848439, 1466938, 1083968, 27205, 29259, 1319504, 598, 599, 995926, 1239655, 496243, 516729, 
    637, 762509, 490132, 25237, 713364, 1208983, 670, 1233575, 680, 1002155, 1153714, 250546, 1465024, 1137350, 
    1233620, 1084153, 572154, 762, 769, 1186563, 1323784, 1145608, 629542, 1084199, 807, 447273, 793387, 650033, 
    1469239, 1022789, 4935, 1094473, 668489, 1403735, 820067, 822119, 1278827, 1407861, 1274746, 895868, 1241982, 
    1307520, 447362, 901, 914, 1010581, 1092506, 1414048, 1282980, 811941, 37799, 869291, 1299372, 283566, 842675, 
    953, 954, 955, 324544, 986056, 19404, 975, 11216, 1252309, 1371094, 265177, 654299, 637920, 1293286, 541671, 
    1278950, 1219576, 402431, 3082, 574475, 533514, 568332, 519182, 533535, 1086497, 1156130, 508965, 244786, 
    1371202, 9286, 1229910, 1180763, 959604, 724089, 1301632, 9358, 1184918, 1217690, 40096, 842924, 1225915, 
    1127625, 378064, 761053, 1180906, 939243, 916728, 324857, 1197306, 1477884, 1109255, 912649, 1260820, 1064213, 
    11544, 527641, 7451, 42269, 1092899, 9532, 1084736, 539972, 1078600, 372058, 1146210, 1275248, 558449, 1064307, 
    1355126, 644479, 1000837, 1262983, 933260, 1396122, 1353117, 1013154, 1000866, 1338799, 1045938, 1181107, 15804, 
    1043905, 19912, 1156593, 1195506, 1261050, 980477, 1541, 1125899, 1138194, 931349, 77338, 652837, 1064486, 
    1189423, 1357359, 1585, 1232449, 552524, 138843, 966238, 1144430, 927342, 710258, 1093237, 974453, 667257, 
    1470082, 1470086, 1470088, 870028, 157336, 1232546, 1226406, 919207, 3782, 970450, 1087192, 620249, 1244890, 
    255709, 974573, 974576, 1160956, 1322752, 569094, 704264, 1244944, 1011477, 1126166, 1040159, 575264, 575265, 
    630566, 1832, 1122099, 1140535, 632632, 1058615, 1390394, 927547, 995133, 1285965, 1388366, 1013601, 302946, 
    1891, 1181540, 1417059, 1895, 1294203, 1058694, 1228681, 823219, 1249213, 1001414, 845783, 1433570, 1447917, 
    1103857,51276073, 870028423, 126089, 1120, 141, 263115, 502356

]

all_reviews = []

for movie_id in movie_ids:
    url = f"https://api.themoviedb.org/3/movie/{movie_id}/reviews?api_key={API_KEY}&language=en-US&page=1"
    response = requests.get(url)
    
    if response.status_code == 200:
        data = response.json()
        for review in data.get("results", []):
            all_reviews.append({
                "film_id": movie_id,
                "author": review["author"],
                "content": review["content"]
            })
    else:
        print(f"Hata! Film ID {movie_id} için veri çekilemedi. Status code: {response.status_code}")

with open("C:/Users/lenovo/OneDrive/Resimler/Masaüstü/veriler/film_yorumlari.json", "w", encoding="utf-8") as f:
    json.dump(all_reviews, f, ensure_ascii=False, indent=4)

print("Veri başarıyla çekildi ve 'film_yorumlari.json' dosyasına kaydedildi!")
print(f"Toplam çekilen yorum sayısı: {len(all_reviews)}")
